<!-- 
Copyright (c) 2013, the polymer_elements.dart project authors.  Please see
the AUTHORS file for details. All rights reserved. Use of this source code is 
governed by a BSD-style license that can be found in the LICENSE file. 
This work is a port of the polymer-elements from the Polymer project, 
http://www.polymer-project.org/. 
--><!DOCTYPE html><html><head><script src="packages/shadow_dom/shadow_dom.debug.js"></script>
<script src="packages/custom_element/custom-elements.debug.js"></script>
<script src="packages/browser/interop.js"></script>

    <title>Polymer Animation Components</title>
    
    
    
    
    
    
    
    
    
    <script src="polymer_animation.html_bootstrap.dart.js"></script>
    
    
    <style>
      body {
        text-align: center;
        font-family: Helvetica, sans-serif;
      }
      div#target {
        display: inline-block;
        background-color: dimgrey;
        border-radius: 5px;
        padding: 5px 10px;
        margin: 50px;
        font-size: 30px;
        color: white;
      }
      div.animations > * {
        display: inline-block;
        background-color: darkgrey;
        border-radius: 5px;
        padding: 5px 10px;
        margin: 5px;
        color: white;
      }
    </style>
  </head>
  <body><polymer-element name="polymer-animation" attributes="target keyframes sample composite duration fillMode easing iterationStart iterationCount delay direction autoplay targetSelector">
  
</polymer-element>
<polymer-element name="polymer-animation-group" extends="polymer-animation" attributes="type">
<!-- <script>
    (function() {
      var ANIMATION_GROUPS = {
        'par': ParGroup,
        'seq': SeqGroup
      };
      /**
       * @module Animation
       */
      /**
       * Component for a group of animations.
       *
       * @class polymer-animation-group
       */
      Polymer('polymer-animation-group', {
        /**
         * If specified the target will be assigned to all child animations.
         * @property target
         * @type HTMLElement|Node
         * @default null
         */
        targetSelector: '',
        /**
         * If specified and not "auto" the duration will apply to the group
         * and propagate to any child animations that is not a group and does
         * not specify a duration.
         * @property duration
         * @type number
         * @default "auto"
         */
        duration: "auto",
        /**
         * Group type. 'par' for parallel and 'seq' for sequence.
         * @property type
         * @type String
         * @default 'par'
         */
        type: 'par',
        created: function() {
          // TODO: need to do this for now.
          this.super();
        },
        typeChanged: function() {
          this.apply();
        },
        targetChanged: function() {
          // Only propagate target to children animations if it's defined.
          if (this.target) {
            this.doOnChildren(function(c) {
              c.target = this.target;
            }.bind(this));
          }
        },
        durationChanged: function() {
          if (this.duration && this.duration !== 'auto') {
            this.doOnChildren(function(c) {
              // Propagate to children that is not a group and has no
              // duration specified.
              if (!c.type && (!c.duration || c.duration === 'auto')) {
                c.duration = this.duration;
              }
            }.bind(this));
          }
        },
        doOnChildren: function(inFn) {
          var children = this.children;
          if (!children.length) {
            children = this.webkitShadowRoot ? this.webkitShadowRoot.childNodes : [];
          }
          Array.prototype.forEach.call(children, function(c) {
            // TODO <template> in the way
            c.apply && inFn(c);
          }, this);
        },
        makeAnimation: function() {
          return new ANIMATION_GROUPS[this.type](this.childAnimations, this.timingProps);
        },
        apply: function() {
          // Propagate target and duration to child animations first.
          this.durationChanged();
          this.targetChanged();
          this.doOnChildren(function(c) {
            c.apply();
          });
          this.super();
        },
        get childAnimationElements() {
          var list = [];
          this.doOnChildren(function(c) {
            if (c.makeAnimation) {
              list.push(c);
            }
          });
          return list;
        },
        get childAnimations() {
          var list = [];
          this.doOnChildren(function(c) {
            if (c.animation) {
              list.push(c.animation);
            }
          });
          return list;
        }
      });
    })();
  </script>-->
</polymer-element>
<polymer-element name="polymer-blink" extends="polymer-animation">
  <!-- <script>
    Polymer('polymer-blink', {
			targetSelector: '',
			duration: 0.7,
			iterationCount: 'Infinity',
			easing: 'cubic-bezier(1.0,0,0,1.0)',
			keyframes: [
        {opacity: 1},
        {opacity: 0}
			]
    });
  </script> -->
</polymer-element>
<polymer-element name="polymer-bounce" extends="polymer-animation">
  <!-- <script>
    Polymer('polymer-bounce', {
			targetSelector: '',
			duration: 1,
			magnitude: '-30px',
      created: function() {
        this.super();
        this.magnitudeChanged();
      },
      magnitudeChanged: function() {
        this.generate();
      },
      generate: function() {
        var parsed = this.magnitude.match(/([\-0-9]+)(.*)/);
        this.keyframes = [
          {offset: 0, transform: 'translateY(0)'},
          {offset: 0.2, transform: 'translateY(0)'},
          {offset: 0.4, transform: 'translateY(' + this.magnitude + ')'},
          {offset: 0.5, transform: 'translateY(0)'},
          {offset: 0.6, transform:'translateY(' + Number(parsed[1]) / 2 + parsed[2] + ')'},
          {offset: 0.8, transform: 'translateY(0)'},
          {offset: 1, transform: 'translateY(0)'}
        ];
      }
    });
  </script> -->
</polymer-element>
<polymer-element name="polymer-animation-keyframe" attributes="offset value easing">
	<!-- <script>
		/**
     * Defines a keyframe in an animation. Its children should be
     * `<polymer-animation-prop>` elements specifying the css
     * property value at the keyframe.
     *
		 * @class polymer-animation-keyframe
		 */
		/**
		 * From 0 to 1.
		 * @property offset
		 * @type Number
		 */
		Polymer('polymer-animation-keyframe', {
			get properties() {
        var props = {};
        var children = this.querySelectorAll('polymer-animation-prop');
        Array.prototype.forEach.call(children, function(c) {
          props[c.name] = c.value;
        });
				if (this.offset !== null) {
					props.offset = this.offset;
				}
				return props;
			}
		});
	</script> -->
</polymer-element>

<polymer-element name="polymer-animation-prop" attributes="name value">
  <!-- <script>
    /**
     * A CSS property and value to use in a `<polymer-animation-keyframe>`.
     *
     * @class polymer-animation-prop
     */
		/**
		 * CSS property name.
		 * @property name
		 * @type String
		 * @required
		 */
     /**
      * CSS property value.
      * @property value
      * @required
      */
      Polymer('polymer-animation-prop');
  </script> -->
</polymer-element>
<polymer-element name="polymer-fadein" extends="polymer-animation">
  <template>
    <polymer-animation-keyframe>
      <polymer-animation-prop name="opacity" value="0">
      </polymer-animation-prop>
    </polymer-animation-keyframe>
    <polymer-animation-keyframe>
      <polymer-animation-prop name="opacity" value="1">
      </polymer-animation-prop>
    </polymer-animation-keyframe>
    <content></content>
  </template>
  <!-- <script>
    Polymer('polymer-fadein');
  </script> -->
</polymer-element>
<polymer-element name="polymer-fadeout" extends="polymer-animation">
  <!-- <script>
    Polymer('polymer-fadeout', {
      keyframes: [
        {opacity: 1},
        {opacity: 0}
      ]
    });
  </script> -->
</polymer-element>
<polymer-element name="polymer-flip" extends="polymer-animation" attributes="axis">
  <!-- <script>
    Polymer('polymer-flip', {
      axis: 'x',
			created: function() {
				this.generate();
			},
      axisChanged: function() {
        this.generate();
      },
      generate: function() {
        var isY = this.axis === 'y' || this.axis === 'Y';
        var rotate = isY ? 'rotateY' : 'rotateX';
        var transZ = isY ? '150px' : '50px';
        this.keyframes = [{
          offset: 0,
          transform: 'perspective(400px) translateZ(0px) ' + rotate + '(0deg) scale(1)'
        }, {
          offset: 0.4,
          transform: 'perspective(400px) translateZ(' + transZ + ') ' + rotate + '(170deg) scale(1)'
        }, {
          offset: 0.5,
          transform: 'perspective(400px) translateZ(' + transZ + ') ' + rotate + '(190deg) scale(1)'
        }, {
          offset: 0.8,
          transform: 'perspective(400px) translateZ(0px) ' + rotate + '(360deg) scale(.95)'
        }, {
          offset: 1,
          transform: 'perspective(400px) translateZ(0px) ' + rotate + '(360deg) scale(1)'
        }];
      }
    });
  </script> -->
</polymer-element>
<polymer-element name="polymer-shake" extends="polymer-animation-group">
  <template>
    <polymer-animation duration="{{period}}">
      <polymer-animation-keyframe>
        <polymer-animation-prop name="transform" value="translateX(0px)">
        </polymer-animation-prop>
      </polymer-animation-keyframe>
      <polymer-animation-keyframe>
        <polymer-animation-prop name="transform" value="{{negTransform}}">
        </polymer-animation-prop>
      </polymer-animation-keyframe>
    </polymer-animation>
    <polymer-animation duration="{{shakeDuration}}" iterationcount="{{shakeIterations}}">
      <polymer-animation-keyframe>
        <polymer-animation-prop name="transform" value="{{negTransform}}">
        </polymer-animation-prop>
      </polymer-animation-keyframe>
      <polymer-animation-keyframe>
        <polymer-animation-prop name="transform" value="{{posTransform}}">
        </polymer-animation-prop>
      </polymer-animation-keyframe>
      <polymer-animation-keyframe>
        <polymer-animation-prop name="transform" value="{{negTransform}}">
        </polymer-animation-prop>
      </polymer-animation-keyframe>
    </polymer-animation>
    <polymer-animation duration="{{period}}">
      <polymer-animation-keyframe>
        <polymer-animation-prop name="transform" value="{{negTransform}}">
        </polymer-animation-prop>
      </polymer-animation-keyframe>
      <polymer-animation-keyframe>
        <polymer-animation-prop name="transform" value="translateX(0px)">
        </polymer-animation-prop>
      </polymer-animation-keyframe>
    </polymer-animation>
    <content></content>
  </template>
  <!-- <script>
    Polymer('polymer-shake', {
			type: 'seq',
			targetSelector: '',
			duration: 0.3,
			magnitude: '10px',
			period: 0.1,
			easing: 'ease-in',
      created: function() {
        this.super();
        this.magnitudeChanged();
        this.periodChanged();
      },
      durationChanged: function() {
        this.super();
        this.generate();
      },
      magnitudeChanged: function() {
        this.generate();
      },
      periodChanged: function() {
        this.generate();
      },
      generate: function() {
        this.negTransform = 'translateX(-' + this.magnitude + ')';
        this.posTransform = 'translateX(' + this.magnitude + ')';
        this.shakeDuration = this.period * 2;
        this.shakeIterations = this.duration === 'Infinity' ? this.duration : Math.ceil(this.duration / this.shakeDuration);
      },
      get timingProps() {
        return {};
      }
    });
  </script> -->
</polymer-element>

    <div id="target">animated!</div>
    <div class="animations">
			<polymer-animation duration="1">
				raw
        <polymer-animation-keyframe>
          <polymer-animation-prop name="opacity" value="1">
          </polymer-animation-prop>
				</polymer-animation-keyframe>
        <polymer-animation-keyframe>
          <polymer-animation-prop name="opacity" value="0.3">
          </polymer-animation-prop>
				</polymer-animation-keyframe>
        <polymer-animation-keyframe>
          <polymer-animation-prop name="opacity" value="1">
          </polymer-animation-prop>
				</polymer-animation-keyframe>
			</polymer-animation>
			<polymer-animation-group type="seq">
				raw group
				<polymer-animation duration="0.3">
          <polymer-animation-keyframe>
            <polymer-animation-prop name="opacity" value="1">
            </polymer-animation-prop>
          </polymer-animation-keyframe>
          <polymer-animation-keyframe>
            <polymer-animation-prop name="opacity" value="0.3">
            </polymer-animation-prop>
          </polymer-animation-keyframe>
          <polymer-animation-keyframe>
            <polymer-animation-prop name="opacity" value="1">
            </polymer-animation-prop>
          </polymer-animation-keyframe>
				</polymer-animation>
				<polymer-animation duration="0.3">
          <polymer-animation-keyframe>
            <polymer-animation-prop name="transform" value="scale(1)">
            </polymer-animation-prop>
          </polymer-animation-keyframe>
          <polymer-animation-keyframe>
            <polymer-animation-prop name="transform" value="scale(1.2)">
            </polymer-animation-prop>
          </polymer-animation-keyframe>
          <polymer-animation-keyframe>
            <polymer-animation-prop name="transform" value="scale(1)">
            </polymer-animation-prop>
          </polymer-animation-keyframe>
				</polymer-animation>
			</polymer-animation-group>
      <polymer-animation id="sample-animation" duration="0.5">sample</polymer-animation>
      <polymer-bounce duration="1">bounce</polymer-bounce>
      <polymer-shake>shake</polymer-shake>
      <!--<polymer-shake duration="Infinity">shake forever</polymer-shake>//-->
      <polymer-flip>flip X</polymer-flip>
      <polymer-flip axis="y">flip Y</polymer-flip>
      <polymer-blink>blink</polymer-blink>
      <polymer-fadein>fade in</polymer-fadein>
      <polymer-fadeout>fade out (with event)</polymer-fadeout>
    </div>
  

</body></html>